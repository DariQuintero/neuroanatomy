graph TB
    User["游녻 Usuario"]

    subgraph FlutterApp["App Flutter (Dart/Flutter)"]
        UI["Interfaz de Usuario<br/>(Pages & Widgets)"]
        BLoC["Gesti칩n de Estado<br/>(Cubits/BLoC)"]
        Services["Servicios<br/>(Business Logic)"]
    end

    subgraph FirebaseServices["Firebase (Google Cloud)"]
        Auth["Firebase Auth<br/>(Autenticaci칩n)"]
        Firestore["Cloud Firestore<br/>(Base de Datos NoSQL)"]
        Storage["Cloud Storage<br/>(Almacenamiento de archivos)"]
    end

    OpenAI["OpenAI GPT-3.5 Turbo<br/>(API REST)"]

    User -->|"Interact칰a"| UI
    UI -->|"Eventos"| BLoC
    BLoC -->|"Llama"| Services

    Services -->|"Autenticaci칩n"| Auth
    Services -->|"CRUD de datos"| Firestore
    Services -->|"Im치genes"| Storage
    Services -->|"HTTP/JSON"| OpenAI

    Auth -->|"Tokens"| Services
    Firestore -->|"Datos en tiempo real"| Services
    Storage -->|"URLs"| Services
    OpenAI -->|"Respuestas JSON"| Services

    style User fill:#e1f5ff
    style FlutterApp fill:#90caf9
    style FirebaseServices fill:#fff9c4
    style OpenAI fill:#c8e6c9
